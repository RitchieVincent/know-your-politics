$(function(){$.fx.speeds.slow=800,$.fx.speeds.xslow=1200,$(".headerDownBtn").click(function(){$("html,body").animate({scrollTop:$(".wellLabour").offset().top-50},"slow")});var e=function(e,t,i,c){$("#selectedSection").addClass(""+t),$(".selectedPartyTitle").append("<h1>"+e+"</h1>"),$("#"+i).fadeIn("slow"),o="2",$(".partyBtn").prop("disabled",!0),$("#questionSection").slideToggle("slow"),$("#questionSection").addClass(""+c)},o="1";$(".partyBtn").click(function(t){function f(){r=Math.floor(Math.random()*a+0),document.getElementById("theQuestions").innerHTML="<h3>"+text.questions[r].question+"</h3>",n=text.questions[r].party,s++,"labourChoice"==text.questions[r].party&&l++,"conservativeChoice"==text.questions[r].party&&u++,"libdemChoice"==text.questions[r].party&&h++,"ukipChoice"==text.questions[r].party&&d++,$(".choiceBtn").prop("disabled",!1)}function v(){isNaN(m)&&(m=0)}function S(){$("#resultSection").slideDown("xslow",function(){window.scrollTo(0,document.body.scrollHeight)}),"labourChoice"==c&&(m=p/l*100,m=m.toFixed(),v(l),$(".scoreNumber").html("<p>You scored "+m+"% of the Labour questions correct.</p>"),$(".scoreNumber").append("<p>Your overall score is: "+C+"</p>")),"conservativeChoice"==c&&(m=p/u*100,m=m.toFixed(),v(u),$(".scoreNumber").html("<p>You scored "+m+"% of the Conservative questions correct.</p>"),$(".scoreNumber").append("<p>Your overall score is: "+C+"</p>")),"libdemChoice"==c&&(m=p/h*100,m=m.toFixed(),v(h),$(".scoreNumber").html("<p>You scored "+m+"% of the Liberal Democrat questions correct.</p>"),$(".scoreNumber").append("<p>Your overall score is: "+C+"</p>")),"ukipChoice"==c&&(m=p/d*100,m=m.toFixed(),v(d),$(".scoreNumber").html("<p>You scored "+m+"% of the UKIP questions correct.</p>"),$(".scoreNumber").append("<p>Your overall score is: "+C+"</p>"))}function b(e){"labourChoice"==e&&($("#questionSection").removeClass(y),$("#questionSection").addClass("labourChoice"),$(".correctParty").fadeTo(500,1),$(".correctParty").html("<p>Actually, this is a Labour policy!</p>")),"conservativeChoice"==e&&($("#questionSection").removeClass(y),$("#questionSection").addClass("conservativeChoice"),$(".correctParty").fadeTo(500,1),$(".correctParty").html("<p>Actually, this is a Conservative policy!</p>")),"libdemChoice"==e&&($("#questionSection").removeClass(y),$("#questionSection").addClass("libdemChoice"),$(".correctParty").fadeTo(500,1),$(".correctParty").html("<p>Actually, this is a Liberal Democrat policy!</p>")),"ukipChoice"==e&&($("#questionSection").removeClass(y),$("#questionSection").addClass("ukipChoice"),$(".correctParty").fadeTo(500,1),$(".correctParty").html("<p>Actually, this is a UKIP policy!</p>"))}function w(){$(".correctParty").fadeTo(500,1),$(".correctParty").html("<p>Correct!</p>")}function g(e,o,t){"agreeChoice"==e&&(o==t?(C++,p++,w()):(b(o,t),C--)),"disagreeChoice"==e&&(o==t?(b(o,t),C--):w())}var i=t.target.id,c="";"labourVote"==i&&"1"==o?(i="The Labour Party",c="labourChoice",imageShow="labourSelectedImage",choiceClassQuestionSection="labourQuestionSection",e(i,c,imageShow,choiceClassQuestionSection)):"conservativeVote"==i&&"1"==o?(i="The Conservative Party",c="conservativeChoice",imageShow="conservativeSelectedImage",choiceClassQuestionSection="conservativeQuestionSection",e(i,c,imageShow,choiceClassQuestionSection)):"libdemVote"==i&&"1"==o?(i="The Liberal Democrats",c="libdemChoice",imageShow="libdemSelectedImage",choiceClassQuestionSection="libdemQuestionSection",e(i,c,imageShow,choiceClassQuestionSection)):"ukipVote"==i&&"1"==o?(i="The United Kingdom Independence Party",c="ukipChoice",imageShow="ukipSelectedImage",choiceClassQuestionSection="ukipQuestionSection",e(i,c,imageShow,choiceClassQuestionSection)):"noVote"==i&&"1"==o&&(i="No preference",c="noChoice",imageShow="novoteSelectedImage",choiceClassQuestionSection="novoteQuestionSection",e(i,c,imageShow,choiceClassQuestionSection)),$("#selectedSection").slideDown("slow"),$("html,body").animate({scrollTop:$("#selectedSection").offset().top},"xslow");var r,n,s=0,a=Object.keys(text.questions).length,l=0,u=0,h=0,d=0,p=0,m=0;f();var C=0;$(".choiceBtn").click(function(){$(".choiceBtn").prop("disabled",!0);var o=this.id;if(g(o,n,c),1>s){var t=setTimeout(function(){$("#questionSection").removeClass(y),f(),$(".correctParty").html(""),$(".correctParty").fadeTo(200,0)},400);t()}else $(".choiceBtn").prop("disabled",!0),b(n,c),$("#questionSection").slideToggle(3e3,function(){S()})});var y="labourChoice conservativeChoice libdemChoice ukipChoice"})});
